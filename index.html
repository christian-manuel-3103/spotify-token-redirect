<!DOCTYPE html>
<html>
  <head>
    <title>Redirecting to app...</title>
    <script type="text/javascript">
      window.onload = function () {
        const hash = window.location.hash.substr(1);
        const params = new URLSearchParams(hash);
        const accessToken = params.get('access_token');

        if (accessToken) {
          // ⚠️ Redirects back to your app with access token in query string
          window.location.href = `melodate://callback?access_token=${accessToken}`;
        } else {
          document.body.innerHTML = "<h3>Error: Access token not found in URL.</h3>";
        }
      };
    </script>
  </head>
  <body>
    <h3>Processing login...</h3>
  </body>
</html>
